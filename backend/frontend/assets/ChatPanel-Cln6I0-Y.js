import{_ as X,r as D,q as Z,v as S,at as G,c as b,a as c,e as s,f as r,g as V,w as k,i as x,A as ve,k as me,t as T,b as P,d as L,N as R,O as F,P as A,M as ge,C as N,X as O,aT as he,m as pe,R as ye,aD as ke,y as K,aU as U,B as ue,aV as be,Z as _e,Q as H,a2 as Ce,a7 as $e,aO as xe,aW as we,aX as Q,aL as W,aY as re,aZ as Ie,a_ as Te}from"./index-LNbvnzbl.js";/* empty css                 */const Pe={class:"document-header"},Le={class:"document-title"},Me={class:"paragraph-count"},Ve=["id"],Ee={class:"para-number"},ze={class:"para-text"},De={key:1,class:"loading-state"},Be={__name:"DocumentViewer",props:{documentName:{type:String,default:""},paragraphs:{type:Array,default:()=>[]},highlightText:{type:String,default:""},loading:{type:Boolean,default:!1}},setup(e,{expose:i}){const a=e,n=D(null),u=D(null),g=D(-1);let m=null,f=null;function o(v){if(!v||a.paragraphs.length===0)return-1;const p=[v.slice(0,80),v.slice(0,40),v.slice(0,20)].filter(_=>_.length>0);for(const _ of p){const w=a.paragraphs.findIndex(I=>I.text.includes(_));if(w!==-1)return w}return-1}const y=Z(()=>o(a.highlightText));function h(){y.value!==-1&&(m&&clearTimeout(m),m=setTimeout(()=>{O(()=>{const v=document.getElementById(`para-${y.value}`);v&&u.value&&(v.scrollIntoView({behavior:"smooth",block:"center"}),g.value=y.value,f&&clearTimeout(f),f=setTimeout(()=>{g.value=-1},2e3))})},150))}function M(v){const p=o(v);return p===-1?!1:(O(()=>{const _=document.getElementById(`para-${p}`);_&&(_.scrollIntoView({behavior:"smooth",block:"center"}),g.value=p,f&&clearTimeout(f),f=setTimeout(()=>{g.value=-1},2e3))}),!0)}return S(()=>a.highlightText,v=>{v&&h()}),G(()=>{m&&clearTimeout(m),f&&clearTimeout(f)}),i({scrollToHighlight:h,scrollToText:M}),(v,p)=>{const _=me,w=ge;return c(),b("div",{class:"document-viewer",ref_key:"containerRef",ref:n},[s("div",Pe,[s("h3",Le,[r(_,null,{default:k(()=>[r(x(ve))]),_:1}),V(" "+T(e.documentName||"合同文档"),1)]),s("span",Me,"共 "+T(e.paragraphs.length)+" 段",1)]),s("div",{class:"document-content",ref_key:"contentRef",ref:u},[(c(!0),b(R,null,F(e.paragraphs,I=>(c(),b("div",{key:I.index,id:`para-${I.index}`,class:A(["paragraph",{highlighted:y.value===I.index,pulse:g.value===I.index}])},[s("span",Ee,T(I.index+1),1),s("span",ze,T(I.text),1)],10,Ve))),128)),e.paragraphs.length===0&&!e.loading?(c(),P(w,{key:0,description:"暂无文档内容"})):L("",!0),e.loading?(c(),b("div",De,[r(_,{class:"is-loading",size:32},{default:k(()=>[r(x(N))]),_:1}),p[0]||(p[0]=s("span",null,"正在加载文档...",-1))])):L("",!0)],512)],512)}}},Ht=X(Be,[["__scopeId","data-v-372a22ce"]]),Re={class:"message-avatar"},Se={key:0,class:"avatar ai"},qe={key:1,class:"avatar user"},je={class:"message-content"},He={class:"message-header"},Ne={class:"sender-name"},Ae=["innerHTML"],Oe={key:1,class:"suggestion-update"},Ke={class:"update-content"},Ue={__name:"ChatMessage",props:{message:{type:Object,required:!0},showLocateBtn:{type:Boolean,default:!1}},emits:["locate"],setup(e){function i(a){if(!a)return"";const n=a.split(`
`),u=[];let g=!1,m=[];for(const o of n)o.startsWith("> ")?(g=!0,m.push(o.slice(2))):(g&&(u.push(`<blockquote>${m.join("<br>")}</blockquote>`),m=[],g=!1),u.push(o));return g&&u.push(`<blockquote>${m.join("<br>")}</blockquote>`),u.join(`
`).replace(/&(?!amp;|lt;|gt;)/g,"&amp;").replace(/<(?!\/?blockquote>|br>)/g,"&lt;").replace(new RegExp("(?<!blockquote|br)>","g"),"&gt;").replace(/\n/g,"<br>").replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,"<code>$1</code>").replace(/「(.+?)」/g,'<span class="cn-quote">$1</span>')}return(a,n)=>(c(),b("div",{class:A(["chat-message",[e.message.role,{streaming:e.message.isStreaming,error:e.message.isError}]])},[s("div",Re,[e.message.role==="assistant"?(c(),b("div",Se,[...n[1]||(n[1]=[s("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18"},[s("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})],-1)])])):(c(),b("div",qe,[...n[2]||(n[2]=[s("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18"},[s("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})],-1)])]))]),s("div",je,[s("div",He,[s("span",Ne,T(e.message.role==="assistant"?"十行":"您"),1)]),s("div",{class:"message-text",innerHTML:i(e.message.content)},null,8,Ae),e.message.isContext||e.showLocateBtn?(c(),b("button",{key:0,class:"locate-btn",onClick:n[0]||(n[0]=u=>a.$emit("locate"))},[...n[3]||(n[3]=[s("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"14",height:"14"},[s("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})],-1),V(" 在文档中定位 ",-1)])])):L("",!0),e.message.role==="assistant"&&e.message.suggestion_snapshot?(c(),b("div",Oe,[n[4]||(n[4]=s("div",{class:"update-header"},[s("span",{class:"update-icon"},"✨"),s("span",null,"建议已更新")],-1)),s("div",Ke,T(e.message.suggestion_snapshot),1)])):L("",!0)])],2))}},We=X(Ue,[["__scopeId","data-v-f9c56b44"]]);class Xe{diff(i,a,n={}){let u;typeof n=="function"?(u=n,n={}):"callback"in n&&(u=n.callback);const g=this.castInput(i,n),m=this.castInput(a,n),f=this.removeEmpty(this.tokenize(g,n)),o=this.removeEmpty(this.tokenize(m,n));return this.diffWithOptionsObj(f,o,n,u)}diffWithOptionsObj(i,a,n,u){var g;const m=C=>{if(C=this.postProcess(C,n),u){setTimeout(function(){u(C)},0);return}else return C},f=a.length,o=i.length;let y=1,h=f+o;n.maxEditLength!=null&&(h=Math.min(h,n.maxEditLength));const M=(g=n.timeout)!==null&&g!==void 0?g:1/0,v=Date.now()+M,p=[{oldPos:-1,lastComponent:void 0}];let _=this.extractCommon(p[0],a,i,0,n);if(p[0].oldPos+1>=o&&_+1>=f)return m(this.buildValues(p[0].lastComponent,a,i));let w=-1/0,I=1/0;const q=()=>{for(let C=Math.max(w,-y);C<=Math.min(I,y);C+=2){let E;const z=p[C-1],t=p[C+1];z&&(p[C-1]=void 0);let l=!1;if(t){const B=t.oldPos-C;l=t&&0<=B&&B<f}const $=z&&z.oldPos+1<o;if(!l&&!$){p[C]=void 0;continue}if(!$||l&&z.oldPos<t.oldPos?E=this.addToPath(t,!0,!1,0,n):E=this.addToPath(z,!1,!0,1,n),_=this.extractCommon(E,a,i,C,n),E.oldPos+1>=o&&_+1>=f)return m(this.buildValues(E.lastComponent,a,i))||!0;p[C]=E,E.oldPos+1>=o&&(I=Math.min(I,C-1)),_+1>=f&&(w=Math.max(w,C+1))}y++};if(u)(function C(){setTimeout(function(){if(y>h||Date.now()>v)return u(void 0);q()||C()},0)})();else for(;y<=h&&Date.now()<=v;){const C=q();if(C)return C}}addToPath(i,a,n,u,g){const m=i.lastComponent;return m&&!g.oneChangePerToken&&m.added===a&&m.removed===n?{oldPos:i.oldPos+u,lastComponent:{count:m.count+1,added:a,removed:n,previousComponent:m.previousComponent}}:{oldPos:i.oldPos+u,lastComponent:{count:1,added:a,removed:n,previousComponent:m}}}extractCommon(i,a,n,u,g){const m=a.length,f=n.length;let o=i.oldPos,y=o-u,h=0;for(;y+1<m&&o+1<f&&this.equals(n[o+1],a[y+1],g);)y++,o++,h++,g.oneChangePerToken&&(i.lastComponent={count:1,previousComponent:i.lastComponent,added:!1,removed:!1});return h&&!g.oneChangePerToken&&(i.lastComponent={count:h,previousComponent:i.lastComponent,added:!1,removed:!1}),i.oldPos=o,y}equals(i,a,n){return n.comparator?n.comparator(i,a):i===a||!!n.ignoreCase&&i.toLowerCase()===a.toLowerCase()}removeEmpty(i){const a=[];for(let n=0;n<i.length;n++)i[n]&&a.push(i[n]);return a}castInput(i,a){return i}tokenize(i,a){return Array.from(i)}join(i){return i.join("")}postProcess(i,a){return i}get useLongestToken(){return!1}buildValues(i,a,n){const u=[];let g;for(;i;)u.push(i),g=i.previousComponent,delete i.previousComponent,i=g;u.reverse();const m=u.length;let f=0,o=0,y=0;for(;f<m;f++){const h=u[f];if(h.removed)h.value=this.join(n.slice(y,y+h.count)),y+=h.count;else{if(!h.added&&this.useLongestToken){let M=a.slice(o,o+h.count);M=M.map(function(v,p){const _=n[y+p];return _.length>v.length?_:v}),h.value=this.join(M)}else h.value=this.join(a.slice(o,o+h.count));o+=h.count,h.added||(y+=h.count)}}return u}}class Qe extends Xe{}const Ze=new Qe;function Fe(e,i,a){return Ze.diff(e,i,a)}const Ge={class:"diff-view"},Ye=["innerHTML"],fe=1e4,Je={__name:"DiffView",props:{original:{type:String,default:""},modified:{type:String,default:""}},setup(e){const i=e,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function n(f){return f.replace(/[&<>"']/g,o=>a[o]).replace(/\n/g,"<br>")}function u(f,o){if(!f&&!o)return'<span class="no-diff">暂无内容</span>';const y=(f==null?void 0:f.slice(0,fe))||"",h=(o==null?void 0:o.slice(0,fe))||"";return y?h?Fe(y,h).map(v=>{const p=n(v.value);return v.added?`<span class="diff-added">${p}</span>`:v.removed?`<span class="diff-removed">${p}</span>`:p}).join(""):`<span class="diff-removed">${n(y)}</span>`:`<span class="diff-added">${n(h)}</span>`}const g=D('<span class="no-diff">暂无内容</span>');let m=null;return S([()=>i.original,()=>i.modified],([f,o])=>{m&&clearTimeout(m),m=setTimeout(()=>{g.value=u(f,o)},100)},{immediate:!0}),G(()=>{m&&clearTimeout(m)}),(f,o)=>(c(),b("div",Ge,[o[0]||(o[0]=he('<div class="diff-header" data-v-d503749f><span class="diff-title" data-v-d503749f>修改对比</span><div class="diff-legend" data-v-d503749f><span class="legend-item removed" data-v-d503749f>删除</span><span class="legend-item added" data-v-d503749f>新增</span></div></div>',1)),s("div",{class:"diff-content",innerHTML:g.value},null,8,Ye)]))}},et=X(Je,[["__scopeId","data-v-d503749f"]]),tt={class:"chat-panel"},st={class:"nav-title"},nt={class:"nav-list"},at={key:0,class:"batch-actions"},it=["disabled"],lt=["disabled"],ot=["onClick"],dt={class:"nav-item-status"},ct={class:"nav-item-content"},ut={class:"nav-item-header"},rt={class:"nav-item-text"},ft=["onClick","title"],mt={key:0,class:"empty-chat"},vt={key:1,class:"streaming-indicator"},gt={key:0,class:"completed-banner"},ht={key:1,class:"skipped-banner"},pt={class:"input-container"},yt=["onKeydown","disabled"],kt=["disabled"],bt={class:"input-footer"},_t={class:"phase-hint"},Ct={class:"action-buttons"},$t=["disabled"],xt=["disabled"],wt={key:1,class:"insertion-hint"},It={class:"modification-editor"},Tt={class:"editor-label"},Pt=["rows","disabled"],Lt={class:"input-container secondary"},Mt=["onKeydown","disabled"],Vt=["disabled"],Et={class:"input-footer"},zt={class:"phase-hint"},Dt={class:"action-buttons"},Bt=["disabled"],Rt=["disabled"],St={__name:"ChatPanel",props:{items:{type:Array,default:()=>[]},activeItem:{type:Object,default:null},messages:{type:Array,default:()=>[]},currentSuggestion:{type:String,default:""},loading:{type:Boolean,default:!1},streaming:{type:Boolean,default:!1},confirmingRisk:{type:Boolean,default:!1}},emits:["select-item","send-message","complete","locate","confirm-risk","skip","quick-accept","batch-accept"],setup(e,{emit:i}){const a=e,n=i,u=D(!1);function g(){u.value||(u.value=!0)}const m=Z(()=>a.items.filter(t=>t.status==="completed"||t.chat_status==="completed"||t.is_skipped||t.chat_status==="skipped").length),f=Z(()=>a.items.some(t=>(t.priority==="should"||t.priority==="may")&&t.status!=="completed"&&t.chat_status!=="completed"&&!t.is_skipped&&t.chat_status!=="skipped"&&t.suggested_text));function o(t){return t.suggested_text&&t.status!=="completed"&&t.chat_status!=="completed"&&!t.is_skipped&&t.chat_status!=="skipped"}function y(t){return{must:"danger",should:"warning",may:"info"}[t]||"info"}function h(t){return{must:"必须",should:"建议",may:"可选"}[t]||t}function M(t,l){return t?t.length>l?t.slice(0,l)+"...":t:""}const v=D(""),p=D(null),_=D(null),w=D("");let I=null;S(()=>a.currentSuggestion,t=>{w.value=t},{immediate:!0}),S(()=>{var t;return(t=a.activeItem)==null?void 0:t.id},()=>{var t;(t=a.activeItem)!=null&&t.suggested_text?w.value=a.activeItem.suggested_text:a.currentSuggestion?w.value=a.currentSuggestion:w.value=""});function q(){I&&clearTimeout(I),I=setTimeout(()=>{const t=_.value;t&&(t.style.height="auto",t.style.height=Math.min(t.scrollHeight,120)+"px")},50)}function C(){O(()=>{p.value&&(p.value.scrollTop=p.value.scrollHeight)})}S([()=>a.messages.length,()=>a.streaming],C,{flush:"post"}),S(()=>{var t;return(t=a.activeItem)==null?void 0:t.id},()=>{O(()=>{p.value&&(p.value.scrollTop=0)})});function E(t){t.shiftKey||(t.preventDefault(),z())}function z(){!v.value.trim()||a.loading||(n("send-message",v.value.trim()),v.value="",O(()=>{_.value&&(_.value.style.height="auto")}))}return G(()=>{I&&clearTimeout(I)}),(t,l)=>{var Y,J,ee,te,se,ne,ae,ie,le,oe,de;const $=me,B=ye;return c(),b("div",tt,[s("div",{class:A(["item-nav-section",{collapsed:u.value}])},[s("div",{class:"nav-header",onClick:l[0]||(l[0]=d=>u.value=!u.value)},[s("div",st,[r($,null,{default:k(()=>[r(x(pe))]),_:1}),l[11]||(l[11]=s("span",null,"条目列表",-1)),r(B,{size:"small",type:"success"},{default:k(()=>[V(T(m.value)+"/"+T(e.items.length),1)]),_:1})]),r($,{class:A(["collapse-icon",{rotated:!u.value}])},{default:k(()=>[r(x(ke))]),_:1},8,["class"])]),r($e,{name:"slide"},{default:k(()=>[K(s("div",nt,[f.value?(c(),b("div",at,[s("button",{class:"batch-btn",onClick:l[1]||(l[1]=d=>t.$emit("batch-accept","should")),disabled:e.loading},[r($,null,{default:k(()=>[r(x(U))]),_:1}),l[12]||(l[12]=V(" 采纳全部「建议」 ",-1))],8,it),s("button",{class:"batch-btn",onClick:l[2]||(l[2]=d=>t.$emit("batch-accept","may")),disabled:e.loading},[r($,null,{default:k(()=>[r(x(U))]),_:1}),l[13]||(l[13]=V(" 采纳全部「可选」 ",-1))],8,lt)])):L("",!0),(c(!0),b(R,null,F(e.items,d=>{var j;return c(),b("div",{key:d.id,class:A(["nav-item",{active:((j=e.activeItem)==null?void 0:j.id)===d.id,completed:d.status==="completed"||d.chat_status==="completed",skipped:d.is_skipped||d.chat_status==="skipped"}])},[s("div",{class:"nav-item-main",onClick:ce=>t.$emit("select-item",d)},[s("div",dt,[d.status==="completed"||d.chat_status==="completed"?(c(),P($,{key:0,color:"#52c41a"},{default:k(()=>[r(x(ue))]),_:1})):d.is_skipped||d.chat_status==="skipped"?(c(),P($,{key:1,color:"#999"},{default:k(()=>[r(x(be))]),_:1})):d.status==="in_progress"?(c(),P($,{key:2,color:"#1890ff"},{default:k(()=>[r(x(N),{class:"is-loading"})]),_:1})):(c(),P($,{key:3,color:"#d9d9d9"},{default:k(()=>[r(x(_e))]),_:1}))]),s("div",ct,[s("div",ut,[r(B,{type:y(d.priority),size:"small"},{default:k(()=>[V(T(h(d.priority)),1)]),_:2},1032,["type"])]),s("p",rt,[d.is_missing_clause?(c(),P(B,{key:0,size:"small",type:"warning",class:"missing-tag"},{default:k(()=>[...l[14]||(l[14]=[V("缺失",-1)])]),_:1})):L("",!0),V(" "+T(M(d.original_text||d.description,d.is_missing_clause?30:40)),1)])])],8,ot),o(d)?(c(),b("button",{key:0,class:"quick-accept-btn",onClick:H(ce=>t.$emit("quick-accept",d),["stop"]),title:"直接采纳: "+M(d.suggested_text,30)},[r($,null,{default:k(()=>[r(x(U))]),_:1})],8,ft)):L("",!0)],2)}),128))],512),[[Ce,!u.value]])]),_:1})],2),s("div",{class:"chat-history",ref_key:"chatHistoryRef",ref:p,onClick:g},[e.activeItem?L("",!0):(c(),b("div",mt,[r($,{size:48},{default:k(()=>[r(x(xe))]),_:1}),l[15]||(l[15]=s("span",null,"请选择一个条目开始审阅",-1))])),(c(!0),b(R,null,F(e.messages,(d,j)=>(c(),P(We,{key:j,message:d,"show-locate-btn":j===0,onLocate:l[3]||(l[3]=ce=>t.$emit("locate"))},null,8,["message","show-locate-btn"]))),128)),e.streaming?(c(),b("div",vt,[...l[16]||(l[16]=[s("span",{class:"typing-cursor"},null,-1)])])):L("",!0)],512),e.activeItem?(c(),b("div",{key:0,class:"input-area",onClick:g},[e.activeItem.chat_status==="completed"?(c(),b("div",gt,[r($,null,{default:k(()=>[r(x(ue))]),_:1}),l[17]||(l[17]=s("span",null,"此条目已审阅完成",-1))])):e.activeItem.is_skipped||e.activeItem.chat_status==="skipped"?(c(),b("div",ht,[r($,null,{default:k(()=>[r(x(we))]),_:1}),l[18]||(l[18]=s("span",null,"此风险点已跳过",-1))])):(c(),b(R,{key:2},[e.activeItem.has_modification?(c(),b(R,{key:1},[(ee=e.activeItem)!=null&&ee.original_text&&w.value&&!((te=e.activeItem)!=null&&te.is_addition)?(c(),P(et,{key:0,original:e.activeItem.original_text,modified:w.value},null,8,["original","modified"])):L("",!0),(se=e.activeItem)!=null&&se.is_addition&&((ne=e.activeItem)!=null&&ne.insertion_point)?(c(),b("div",wt,[r($,null,{default:k(()=>[r(x(Te))]),_:1}),s("span",null,T(e.activeItem.insertion_point),1)])):L("",!0),s("div",It,[s("div",Tt,[s("span",null,T((ae=e.activeItem)!=null&&ae.is_addition?"补充条款（可编辑）":"修改建议（可编辑）"),1),r(B,{size:"small",type:(ie=e.activeItem)!=null&&ie.is_addition?"warning":"success"},{default:k(()=>{var d;return[V(T((d=e.activeItem)!=null&&d.is_addition?"新增条款":"已生成"),1)]}),_:1},8,["type"])]),K(s("textarea",{"onUpdate:modelValue":l[7]||(l[7]=d=>w.value=d),class:"suggestion-textarea",rows:(le=e.activeItem)!=null&&le.is_addition?6:4,disabled:e.loading},null,8,Pt),[[Q,w.value]])]),s("div",Lt,[K(s("textarea",{ref_key:"inputRef",ref:_,"onUpdate:modelValue":l[8]||(l[8]=d=>v.value=d),class:"chat-input",placeholder:"如有问题，可继续讨论...",rows:"1",onInput:q,onKeydown:[W(H(E,["exact"]),["enter"]),W(H(()=>{},["shift","exact"]),["enter"])],disabled:e.loading},null,40,Mt),[[Q,v.value]]),s("button",{class:"send-btn",onClick:z,disabled:!v.value.trim()||e.loading},[e.loading?(c(),P($,{key:0,class:"is-loading"},{default:k(()=>[r(x(N))]),_:1})):(c(),P($,{key:1},{default:k(()=>[r(x(re))]),_:1}))],8,Vt)]),s("div",Et,[s("span",zt,T((oe=e.activeItem)!=null&&oe.is_addition?"补充阶段 - 确认条款后提交":"修改阶段 - 确认建议后提交"),1),s("div",Dt,[s("button",{class:"skip-btn",onClick:l[9]||(l[9]=d=>t.$emit("skip")),disabled:e.loading}," 跳过 ",8,Bt),s("button",{class:"submit-btn",onClick:l[10]||(l[10]=d=>t.$emit("complete",w.value)),disabled:e.loading},[r($,null,{default:k(()=>[r(x(U))]),_:1}),V(" "+T((de=e.activeItem)!=null&&de.is_addition?"提交补充":"提交修改"),1)],8,Rt)])])],64)):(c(),b(R,{key:0},[s("div",pt,[K(s("textarea",{ref_key:"inputRef",ref:_,"onUpdate:modelValue":l[4]||(l[4]=d=>v.value=d),class:"chat-input",placeholder:"与AI讨论这个风险点...",rows:"1",onInput:q,onKeydown:[W(H(E,["exact"]),["enter"]),W(H(()=>{},["shift","exact"]),["enter"])],disabled:e.loading},null,40,yt),[[Q,v.value]]),s("button",{class:"send-btn",onClick:z,disabled:!v.value.trim()||e.loading},[e.loading?(c(),P($,{key:0,class:"is-loading"},{default:k(()=>[r(x(N))]),_:1})):(c(),P($,{key:1},{default:k(()=>[r(x(re))]),_:1}))],8,kt)]),s("div",bt,[s("span",_t,T((Y=e.activeItem)!=null&&Y.is_missing_clause?"讨论完成后，点击右侧按钮生成补充条款":"讨论完成后，点击右侧按钮生成修改方案"),1),s("div",Ct,[s("button",{class:"skip-btn",onClick:l[5]||(l[5]=d=>t.$emit("skip")),disabled:e.loading||e.confirmingRisk}," 跳过 ",8,$t),s("button",{class:"confirm-btn",onClick:l[6]||(l[6]=d=>t.$emit("confirm-risk")),disabled:e.loading||e.confirmingRisk},[e.confirmingRisk?(c(),P($,{key:0,class:"is-loading"},{default:k(()=>[r(x(N))]),_:1})):(c(),P($,{key:1},{default:k(()=>[r(x(Ie))]),_:1})),V(" "+T(e.confirmingRisk?"生成中...":(J=e.activeItem)!=null&&J.is_missing_clause?"补充":"修改"),1)],8,xt)])])],64))],64))])):L("",!0)])}}},Nt=X(St,[["__scopeId","data-v-be79be03"]]);export{Nt as C,Ht as D};
